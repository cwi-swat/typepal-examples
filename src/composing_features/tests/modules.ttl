test M1 [[
    module A
    
    var x = 1;
    fun int f (int p) = x + p; 
    
    module B
    
    import A;
    
    fun int f2(int p) = f(p) + 2;

]]

test M2 [[
    module A
    var x = 1;
    fun int f (int p) = p + x;

    module B
    import A;
    fun int f2(int p) = f(p) + x;
]] expect { "Undefined variable or parameter `x`" }

test M3 [[
    module A
    fun int f (int p) = p + 2;

    module B
    fun int f2 (int p) = p + 3;
    
    
    module C
    
    import A;
    import B;
    
    fun int f3(int p) = f(p) + f2(p);
]]
